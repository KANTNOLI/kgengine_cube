{
  "version": 3,
  "sources": ["../../kgengine/Engine/VisualEngineConfigs/WebGLEngine.ts"],
  "sourcesContent": ["import * as THREE from \"three\";\r\nimport WebGLEngineQuality, { EngineSizes } from \"./VisualEngine.interface.js\";\r\n\r\n//antialias - Сглаживание\r\n//precision - точность расчётов шейдеров  / lowp   mediump   highp\r\n//powerPreference - уровень производительности для рендерера    high-performance  default  low-power\r\n//depth - буфер глубины\r\n\r\nexport const WebGLEngine = (\r\n  quality: WebGLEngineQuality = {\r\n    antialias: true,\r\n    precision: \"mediump\",\r\n    powerPrfrnc: \"default\",\r\n    depth: true,\r\n    shadowOn: true,\r\n    shadowMap: \"normal\",\r\n  },\r\n  sizes: EngineSizes = {\r\n    width: window.innerWidth,\r\n    height: window.innerHeight,\r\n  },\r\n  css3On: boolean = true\r\n): THREE.WebGLRenderer => {\r\n  const renderer = new THREE.WebGLRenderer({\r\n    antialias: quality.antialias || true,\r\n    precision: quality.precision || \"mediump\",\r\n    powerPreference: (quality.powerPrfrnc as WebGLPowerPreference) || \"default\",\r\n    depth: quality.depth || true,\r\n  });\r\n\r\n  renderer.setSize(sizes.width, sizes.height);\r\n\r\n  if (quality.shadowOn != undefined ? quality.shadowOn : true) {\r\n    renderer.shadowMap.enabled = true;\r\n    switch (quality.shadowMap != undefined ? quality.shadowMap : \"low\") {\r\n      case \"low\":\r\n        renderer.shadowMap.type = THREE.BasicShadowMap;\r\n        break;\r\n      case \"hard\":\r\n        renderer.shadowMap.type = THREE.PCFSoftShadowMap;\r\n        break;\r\n      default:\r\n        renderer.shadowMap.type = THREE.PCFShadowMap;\r\n        break;\r\n    }\r\n  }\r\n\r\n  if (css3On) {\r\n    renderer.domElement.style.position =  \"absolute\";\r\n    renderer.domElement.style.zIndex =  \"0\";\r\n    renderer.domElement.style.top = \"0\";\r\n  }\r\n\r\n  document.body.appendChild(renderer.domElement);\r\n\r\n  return renderer;\r\n};\r\n"],
  "mappings": ";;;;;;;;AAQO,IAAM,cAAc,CACzB,UAA8B;AAAA,EAC5B,WAAW;AAAA,EACX,WAAW;AAAA,EACX,aAAa;AAAA,EACb,OAAO;AAAA,EACP,UAAU;AAAA,EACV,WAAW;AACb,GACA,QAAqB;AAAA,EACnB,OAAO,OAAO;AAAA,EACd,QAAQ,OAAO;AACjB,GACA,SAAkB,SACM;AACxB,QAAM,WAAW,IAAU,cAAc;AAAA,IACvC,WAAW,QAAQ,aAAa;AAAA,IAChC,WAAW,QAAQ,aAAa;AAAA,IAChC,iBAAkB,QAAQ,eAAwC;AAAA,IAClE,OAAO,QAAQ,SAAS;AAAA,EAC1B,CAAC;AAED,WAAS,QAAQ,MAAM,OAAO,MAAM,MAAM;AAE1C,MAAI,QAAQ,YAAY,SAAY,QAAQ,WAAW,MAAM;AAC3D,aAAS,UAAU,UAAU;AAC7B,YAAQ,QAAQ,aAAa,SAAY,QAAQ,YAAY,OAAO;AAAA,MAClE,KAAK;AACH,iBAAS,UAAU,OAAa;AAChC;AAAA,MACF,KAAK;AACH,iBAAS,UAAU,OAAa;AAChC;AAAA,MACF;AACE,iBAAS,UAAU,OAAa;AAChC;AAAA,IACJ;AAAA,EACF;AAEA,MAAI,QAAQ;AACV,aAAS,WAAW,MAAM,WAAY;AACtC,aAAS,WAAW,MAAM,SAAU;AACpC,aAAS,WAAW,MAAM,MAAM;AAAA,EAClC;AAEA,WAAS,KAAK,YAAY,SAAS,UAAU;AAE7C,SAAO;AACT;",
  "names": []
}
